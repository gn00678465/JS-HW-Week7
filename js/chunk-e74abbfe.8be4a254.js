(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e74abbfe"],{"3ebc":function(t,e,s){"use strict";s("99af"),s("ac1f"),s("5319");var a=s("c67a");e["a"]={mixins:[a["a"]],methods:{redirection:function(t){var e=t.token,s=t.expired,a=new Date(1e3*s);document.cookie="HEXtoken=".concat(e,";path=/;expires=").concat(a)},getToken:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)HEXtoken\s*=\s*([^;]*).*$)|^.*$/,"$1")},login:function(t){var e=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/login"),t).then((function(t){200===t.status&&(e.redirection(t.data),e.$router.replace("/admin"),e.successNotify(t.data.message),e.isLoading=!1)})).catch((function(t){e.errorNotify(t.response.data.message),e.isLoading=!1}))},tokenCheck:function(){var t=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/check"),{api_token:this.token}).then((function(e){200===e.status&&(t.$http.defaults.headers.common.Authorization="Bearer ".concat(t.getToken()))})).catch((function(e){t.$router.replace("/login"),t.errorNotify(e.response.data.message)}))},logout:function(){var t=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/logout"),{api_token:this.token}).then((function(e){200===e.status&&(t.token="",t.redirection(e.data),t.$router.replace("/login"),t.successNotify(e.data.message),t.isLoading=!1)})).catch((function(e){t.errorNotify(e.response.data.message),t.isLoading=!1}))}}}},"93a0":function(t,e,s){"use strict";var a=s("feaa"),o=s.n(a);o.a},"99af":function(t,e,s){"use strict";var a=s("23e7"),o=s("d039"),i=s("e8b5"),n=s("861d"),r=s("7b0b"),c=s("50c4"),u=s("8418"),l=s("65f0"),d=s("1dde"),f=s("b622"),p=s("2d00"),m=f("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!o((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),k=function(t){if(!n(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},w=!g||!b;a({target:"Array",proto:!0,forced:w},{concat:function(t){var e,s,a,o,i,n=r(this),d=l(n,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?n:arguments[e],k(i)){if(o=c(i.length),f+o>h)throw TypeError(v);for(s=0;s<o;s++,f++)s in i&&u(d,f,i[s])}else{if(f>=h)throw TypeError(v);u(d,f++,i)}return d.length=f,d}})},c67a:function(t,e,s){"use strict";e["a"]={methods:{successNotify:function(t){this.$toast.success(t)},errorNotify:function(t){this.$toast.error(t)},dialogNotify:function(){}}}},fa1f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loginPage"},[s("div",{staticClass:"login-bg"}),s("div",{staticClass:"vld-parent"},[s("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),s("div",{staticClass:"form"},[s("div",{staticClass:"form-toggle"}),s("div",{staticClass:"form-panel one"},[t._m(0),s("div",{staticClass:"form-content"},[s("LoginForm",{on:{submit:t.submit}})],1)])])],1)])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-header"},[s("p",{staticClass:"title"},[t._v("後台系統登入")])])}],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ValidationObserver",{attrs:{tag:"form"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[s("validation-provider",{staticClass:"form-group",attrs:{tag:"div",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,o=e.classes;return[s("label",{attrs:{for:"loginemail"}},[t._v("mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],class:o,attrs:{type:"email",id:"loginemail",name:"信箱",placeholder:"請輸入信箱地址"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),s("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),s("validation-provider",{staticClass:"form-group",attrs:{tag:"div",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors,o=e.classes;return[s("label",{attrs:{for:"loginpasswd"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],class:o,attrs:{type:"password",id:"loginpasswd",name:"密碼",placeholder:"請輸入密碼"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("span",{staticClass:"error"},[t._v(t._s(a[0]))])]}}],null,!0)}),s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-remember"},[s("input",{attrs:{type:"checkbox"}}),t._v("Remember Me ")]),s("a",{staticClass:"form-recovery",attrs:{href:"#"}},[t._v("Forgot Password?")])]),s("div",{staticClass:"form-group"},[s("button",{attrs:{type:"submit",disabled:a}},[t._v("登入")])])]}}])})},n=[],r={name:"LoginForm",data:function(){return{user:{email:"",password:""}}},methods:{submit:function(){this.$emit("submit",this.user)}}},c=r,u=s("2877"),l=Object(u["a"])(c,i,n,!1,null,"56794d34",null),d=l.exports,f=s("3ebc"),p={metaInfo:{title:"後台登入"},name:"Login",mixins:[f["a"]],components:{LoginForm:d},data:function(){return{isLoading:!1}},methods:{submit:function(t){this.login(t)}},computed:{}},m=p,h=(s("93a0"),Object(u["a"])(m,a,o,!1,null,"5d09165e",null));e["default"]=h.exports},feaa:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e74abbfe.8be4a254.js.map