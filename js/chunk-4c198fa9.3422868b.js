(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c198fa9"],{"3ebc":function(t,e,a){"use strict";a("99af"),a("ac1f"),a("5319");var i=a("c67a");e["a"]={mixins:[i["a"]],methods:{redirection:function(t){var e=t.token,a=t.expired,i=new Date(1e3*a);document.cookie="HEXtoken=".concat(e,";path=/;expires=").concat(i)},getToken:function(){return document.cookie.replace(/(?:(?:^|.*;\s*)HEXtoken\s*=\s*([^;]*).*$)|^.*$/,"$1")},login:function(t){var e=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/login"),t).then((function(t){200===t.status&&(e.redirection(t.data),e.$router.replace("/admin"),e.successNotify(t.data.message),e.isLoading=!1)})).catch((function(t){e.errorNotify(t.response.data.message),e.isLoading=!1}))},tokenCheck:function(){var t=this;this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/check"),{api_token:this.token}).then((function(e){200===e.status&&(t.$http.defaults.headers.common.Authorization="Bearer ".concat(t.getToken()))})).catch((function(e){t.$router.replace("/login"),t.errorNotify(e.response.data.message)}))},logout:function(){var t=this;this.isLoading=!0,this.$http.post("".concat("https://course-ec-api.hexschool.io/","api/auth/logout"),{api_token:this.token}).then((function(e){200===e.status&&(t.token="",t.redirection(e.data),t.$router.replace("/login"),t.successNotify(e.data.message),t.isLoading=!1)})).catch((function(e){t.errorNotify(e.response.data.message),t.isLoading=!1}))}}}},"4ba9":function(t,e,a){"use strict";var i=a("f28e"),n=a.n(i);n.a},7277:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid bg-color vld-parent"},[a("loading",{attrs:{active:t.isLoading,"can-cancel":!0,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("header",{staticClass:"header expander-left",style:{"margin-left":t.sidbarWidth}},[a("p",{staticClass:"title"},[t._v("後台管理系統")]),a("a",{staticClass:"btn btn-logout",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[a("icon",{staticClass:"btn-icon",attrs:{iconName:"exit"}}),a("span",[t._v("登出")])],1)]),a("SideBar",{ref:"sidbar",attrs:{home:t.home,childs:t.childs}}),a("router-view",{style:{"margin-left":t.sidbarWidth,"margin-top":t.navbarHeight}})],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"l-navbar",class:"l-navbar-"+t.navStyle,style:{width:t.navWidth+"px"}},[a("nav",{staticClass:"nav"},[a("div",{staticClass:"nav__logo",class:{"no-toggler":!t.showToggler}},[t.showToggler?a("div",{staticClass:"nav__toggler"},[t._v("三")]):t._e(),a("div",{staticClass:"nav__title"},[t._v("Hi! 管理員!")])]),a("ul",{staticClass:"nav__list"},[a("router-link",{staticClass:"nav__item",attrs:{to:t.home.path,tag:"li","active-class":"actived",exact:""}},[a("icon",{staticClass:"nav__icon",attrs:{iconName:t.home.icon}}),a("span",{staticClass:"nav__text"},[t._v(t._s(t.home.name))])],1),t._l(t.childs,(function(e){return a("router-link",{key:e.path,staticClass:"nav__item",attrs:{to:t.home.path+"/"+e.path,tag:"li","active-class":"actived",exact:""}},[a("icon",{staticClass:"nav__icon",attrs:{iconName:e.icon}}),a("span",{staticClass:"nav__text"},[t._v(t._s(e.name))])],1)}))],2)])])},s=[],c={name:"SideBar",components:{},props:{showToggler:{type:Boolean,default:!1},home:{type:Object,required:!0},childs:{type:Array,required:!0},navStyle:{type:String,default:"light"}},data:function(){return{fullWidth:!1,navWidth:240}},methods:{},computed:{}},r=c,h=(a("4ba9"),a("2877")),l=Object(h["a"])(r,o,s,!1,null,"7f9d3624",null),d=l.exports,u=a("3ebc"),f={metaInfo:{title:"後台管理系統",titleTemplate:"%s"},name:"Dashboard",mixins:[u["a"]],components:{SideBar:d},data:function(){return{home:{name:"首頁",path:"/admin",icon:"dashboard"},childs:[{name:"產品列表",path:"products",icon:"boxes"},{name:"優惠卷",path:"coupons",icon:"percent"},{name:"訂單列表",path:"orders",icon:"creditCard"},{name:"檔案管理",path:"storage",icon:"storage"}],token:"",isLoading:!1,sidbarWidth:0,navbarHeight:0}},created:function(){this.token=this.getToken(),this.tokenCheck()},mounted:function(){this.getSidebarWidth(),this.getNavHeight()},methods:{getSidebarWidth:function(){var t=this.$refs.sidbar.$el.getBoundingClientRect(),e=t.width;this.sidbarWidth="".concat(e+15,"px")},getNavHeight:function(){var t=this.$el.querySelector(".header").getBoundingClientRect(),e=t.height;this.navbarHeight="".concat(e,"px")}}},p=f,g=(a("90e3d"),Object(h["a"])(p,i,n,!1,null,"eb584684",null));e["default"]=g.exports},"90e3d":function(t,e,a){"use strict";var i=a("9285"),n=a.n(i);n.a},9285:function(t,e,a){},"99af":function(t,e,a){"use strict";var i=a("23e7"),n=a("d039"),o=a("e8b5"),s=a("861d"),c=a("7b0b"),r=a("50c4"),h=a("8418"),l=a("65f0"),d=a("1dde"),u=a("b622"),f=a("2d00"),p=u("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=f>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=d("concat"),b=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},k=!m||!_;i({target:"Array",proto:!0,forced:k},{concat:function(t){var e,a,i,n,o,s=c(this),d=l(s,0),u=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?s:arguments[e],b(o)){if(n=r(o.length),u+n>g)throw TypeError(v);for(a=0;a<n;a++,u++)a in o&&h(d,u,o[a])}else{if(u>=g)throw TypeError(v);h(d,u++,o)}return d.length=u,d}})},c67a:function(t,e,a){"use strict";e["a"]={methods:{successNotify:function(t){this.$toast.success(t)},errorNotify:function(t){this.$toast.error(t)},dialogNotify:function(){}}}},f28e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4c198fa9.3422868b.js.map